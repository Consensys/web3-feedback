"use strict";(self.webpackChunkweb3_feedback=self.webpackChunkweb3_feedback||[]).push([[8527],{14500:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"get-started/tooling/oracles/api3","title":"API3","description":"API3 is a collaborative project to deliver traditional API","source":"@site/docs/get-started/tooling/oracles/api3.mdx","sourceDirName":"get-started/tooling/oracles","slug":"/get-started/tooling/oracles/api3","permalink":"/web3-feedback/get-started/tooling/oracles/api3","draft":false,"unlisted":false,"editUrl":"https://github.com/Consensys/doc.linea/tree/main/docs/get-started/tooling/oracles/api3.mdx","tags":[],"version":"current","lastUpdatedBy":"Joel Willmore","lastUpdatedAt":1747828420000,"frontMatter":{"title":"API3","image":"/img/socialCards/api3.jpg"},"sidebar":"getStartedSidebar","previous":{"title":"Oracles","permalink":"/web3-feedback/get-started/tooling/oracles/"},"next":{"title":"Chainlink","permalink":"/web3-feedback/get-started/tooling/oracles/chainlink"}}');var s=n(74848),r=n(28453);const i={title:"API3",image:"/img/socialCards/api3.jpg"},d=void 0,o={},c=[{value:"Using dAPIs - API3 datafeeds",id:"using-dapis---api3-datafeeds",level:2},{value:"Subscribe to dAPIs",id:"subscribe-to-dapis",level:3},{value:"Explore, select and configure your dAPI",id:"explore-select-and-configure-your-dapi",level:4},{value:"Activate your dAPI",id:"activate-your-dapi",level:4},{value:"Get the proxy address",id:"get-the-proxy-address",level:4},{value:"Read from a dAPI",id:"read-from-a-dapi",level:3},{value:"Resources",id:"resources",level:2}];function l(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://api3.org/",children:"API3"})," is a collaborative project to deliver traditional API\nservices to smart contract platforms in a decentralized and trust-minimized way.  Its primary focus\nis to bring cryptocurrency price data to smart contracts in a secure and reliable manner.  API3 price feeds\nhave ",(0,s.jsx)(t.a,{href:"https://docs.api3.org/oev-searchers/",children:"OEV"})," (Oracle Extractable Value) built in to the price feeds by default, this allows dapps to\nmonetize the update of the price feeds they are using.  It is governed by a decentralized autonomous organization (DAO)."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["Read more about how The API3 DAO works.\n",(0,s.jsx)(t.a,{href:"https://api3.org/dao/",children:"Click here"})]})}),"\n",(0,s.jsx)(t.h2,{id:"using-dapis---api3-datafeeds",children:"Using dAPIs - API3 datafeeds"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://docs.api3.org/dapps/quickstart/",children:"dAPIs"})," are continuously\nupdated streams of offchain cryptocurrency price data. They can power various decentralized applications such as DeFi\nlending, synthetic assets, stablecoins, derivatives, NFTs and more."]}),"\n",(0,s.jsx)(t.p,{children:"The data feeds are continuously updated by first party oracles using signed data. Dapp owners can read the onchain value of any dAPI in\nreal-time."}),"\n",(0,s.jsx)(t.p,{children:"Due to being composed of first-party data feeds, dAPIs offer security,\ntransparency, cost-efficiency and scalability in a turn-key package."}),"\n",(0,s.jsxs)(t.p,{children:["Apart from relying on deviation threshold and heartbeat configuration updates,\nunlike traditional data feeds, ",(0,s.jsx)(t.a,{href:"https://docs.api3.org/oev-searchers/in-depth/oev-network/",children:"OEV Network"}),"\nenables dapps using dAPIs to auction off the right to update the data feeds to\nsearcher bots. Searcher bots can bid for price updates through the OEV Network\nto update the data feeds. All the OEV proceeds go back to the dapp."]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"https://market.api3.org/linea",children:"API3 Market"})," enables users to connect to a\ndAPI and access the associated data feed services."]}),"\n",(0,s.jsx)("div",{class:"center-container",children:(0,s.jsx)("div",{class:"img-large",children:(0,s.jsx)("img",{src:"/img/get_started/tooling/oracles/api3/dapi-main.png",alt:"dapi-main"})})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://docs.api3.org/oev-searchers/in-depth/dapis/",children:"Learn more about how dAPIs work"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"subscribe-to-dapis",children:"Subscribe to dAPIs"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"https://market.api3.org/linea",children:"API3 Market"})," lets users access dAPIs on both\n",(0,s.jsx)(t.a,{href:"https://market.api3.org/linea",children:"Linea Mainnet"})," and ",(0,s.jsx)(t.a,{href:"https://market.api3.org/linea-sepolia-testnet",children:"testnet"}),"."]}),"\n",(0,s.jsx)(t.h4,{id:"explore-select-and-configure-your-dapi",children:"Explore, select and configure your dAPI"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"https://market.api3.org/linea",children:"API3 Market"})," provides a list of all the\ndAPIs available across multiple chains including testnets. You can filter the\nlist by mainnet or testnet chains. After selecting the chain, you can search for\na specific dAPI by name. Once selected, you will land on the details page (eg\nETH/USD on Linea Testnet) where you can find more information about the dAPI."]}),"\n",(0,s.jsx)(t.p,{children:"The current supported configurations for dAPIs are:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Deviation"}),(0,s.jsx)(t.th,{children:"Heartbeat"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"0.25%"}),(0,s.jsx)(t.td,{children:"24 hours"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"0.5%"}),(0,s.jsx)(t.td,{children:"24 hours"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"1%"}),(0,s.jsx)(t.td,{children:"24 hours"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"5%"}),(0,s.jsx)(t.td,{children:"24 hours"})]})]})]}),"\n",(0,s.jsx)("div",{class:"center-container",children:(0,s.jsx)("div",{class:"img-large",children:(0,s.jsx)("img",{src:"/img/get_started/tooling/oracles/api3/dapi-1.png",alt:"dapi-1"})})}),"\n",(0,s.jsx)(t.h4,{id:"activate-your-dapi",children:"Activate your dAPI"}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"If a dAPI is already activated, make sure to check the expiration date and\nupdate parameters. You can update the parameters and extend the subscription by\npurchasing a new configuration."})}),"\n",(0,s.jsx)(t.p,{children:'After selecting the dAPI and the configuration, you will be presented with an\noption to purchase the dAPI and activate it. Make sure to check the time and\namount of the subscription. If everything looks good, click "Purchase".'}),"\n",(0,s.jsx)("div",{class:"center-container",children:(0,s.jsx)("div",{class:"img-small",children:(0,s.jsx)("img",{src:"/img/get_started/tooling/oracles/api3/dapi-2.png",alt:"dapi-2"})})}),"\n",(0,s.jsx)(t.p,{children:"You can then connect your wallet and confirm the transaction. Once it's\nconfirmed, you will be able to see the updated configuration for the dAPI."}),"\n",(0,s.jsx)(t.h4,{id:"get-the-proxy-address",children:"Get the proxy address"}),"\n",(0,s.jsx)(t.p,{children:'Once you are done configuring and activating the dAPI, you can now integrate it.\nTo do so, click on the "Integrate" button on the dAPI details page.'}),"\n",(0,s.jsx)("div",{class:"center-container",children:(0,s.jsx)("div",{class:"img-large",children:(0,s.jsx)("img",{src:"/img/get_started/tooling/oracles/api3/dapi-5.png",alt:"dapi-5"})})}),"\n",(0,s.jsx)(t.p,{children:"You can now see the deployed proxy contract address. You can now use this to\nread from the configured dAPI."}),"\n",(0,s.jsx)(t.h3,{id:"read-from-a-dapi",children:"Read from a dAPI"}),"\n",(0,s.jsx)(t.p,{children:"Here's an example of a basic contract that reads from a dAPI."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-solidity",children:'// SPDX-License-Identifier: MIT\npragma solidity 0.8.17;\n\nimport "@openzeppelin/contracts@4.9.5/access/Ownable.sol";\nimport "@api3/contracts/api3-server-v1/proxies/interfaces/IProxy.sol";\n\ncontract DataFeedReaderExample is Ownable {\n    // The proxy contract address obtained from the API3 Market UI.\n    address public proxyAddress;\n\n    // Updating the proxy contract address is a security-critical\n    // action. In this example, only the owner is allowed to do so.\n    function setProxyAddress(address _proxyAddress) public onlyOwner {\n        proxyAddress = _proxyAddress;\n    }\n\n    function readDataFeed()\n        external\n        view\n        returns (int224 value, uint256 timestamp)\n    {\n        // Use the IProxy interface to read a dAPI via its proxy contract .\n        (value, timestamp) = IProxy(proxyAddress).read();\n        // If you have any assumptions about `value` and `timestamp`,\n        // make sure to validate them after reading from the proxy.\n    }\n}\n\n'})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"setProxyAddress()"})," is used to set the address of the dAPI Proxy Contract."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"readDataFeed()"})," is a view function that returns the latest price of the set\ndAPI."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://docs.api3.org/oev-searchers/in-depth/dapis/",children:"Read more about dAPIs"}),"."]}),"\n",(0,s.jsx)(t.blockquote,{children:"\n"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://remix.ethereum.org/#url=https://github.com/api3-ecosystem/remix-contracts/blob/master/contracts/DapiReader.sol&lang=en&optimize=false&runs=200&evmVersion=null&version=soljson-v0.8.18+commit.87f61d96.js",children:"Try deploying it on Remix!"})}),"\n",(0,s.jsx)(t.h2,{id:"resources",children:"Resources"}),"\n",(0,s.jsx)(t.p,{children:"Here are some additional developer resources:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.api3.org/",children:"API3 docs"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://market.api3.org/linea",children:"API3 Market"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.api3.org/oev-searchers/in-depth/dapis/",children:"dAPI docs"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.api3.org/oev-searchers/",children:"OEV docs"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/api3dao/",children:"Github"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://medium.com/api3",children:"Medium"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://www.youtube.com/API3DAO",children:"YouTube"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>d});var a=n(96540);const s={},r=a.createContext(s);function i(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);