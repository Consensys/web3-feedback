"use strict";(self.webpackChunkweb3_feedback=self.webpackChunkweb3_feedback||[]).push([[5223],{11514:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"get-started/tooling/oracles/ora","title":"ORA","description":"ORA is a verifiable oracle protocol that brings AI and complex","source":"@site/docs/get-started/tooling/oracles/ora.mdx","sourceDirName":"get-started/tooling/oracles","slug":"/get-started/tooling/oracles/ora","permalink":"/web3-feedback/get-started/tooling/oracles/ora","draft":false,"unlisted":false,"editUrl":"https://github.com/Consensys/doc.linea/tree/main/docs/get-started/tooling/oracles/ora.mdx","tags":[],"version":"current","lastUpdatedBy":"Joel Willmore","lastUpdatedAt":1742476504000,"frontMatter":{"title":"ORA","image":"/img/socialCards/ora.jpg"},"sidebar":"getStartedSidebar","previous":{"title":"DIA","permalink":"/web3-feedback/get-started/tooling/oracles/dia"},"next":{"title":"Pyth Network","permalink":"/web3-feedback/get-started/tooling/oracles/pyth"}}');var r=t(74848),a=t(28453);const l={title:"ORA",image:"/img/socialCards/ora.jpg"},o=void 0,s={},c=[{value:"OAO quickstart",id:"oao-quickstart",level:2},{value:"Workflow",id:"workflow",level:3},{value:"Integration",id:"integration",level:2},{value:"Overview",id:"overview",level:3},{value:"Smart contract integration",id:"smart-contract-integration",level:3},{value:"Reference",id:"reference",level:2},{value:"Useful links:",id:"useful-links",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://ora.io",children:"ORA"})," is a verifiable oracle protocol that brings AI and complex\ncompute onchain."]}),"\n",(0,r.jsxs)(n.p,{children:["Its main product, ",(0,r.jsx)(n.strong,{children:"Onchain AI Oracle (OAO)"}),", integrates AI capabilities\ndirectly onchain."]}),"\n",(0,r.jsx)(n.p,{children:"ORA breaks down the limitations of smart contracts by offering verifiable AI\ninference, so developers can innovate freely."}),"\n",(0,r.jsx)(n.h2,{id:"oao-quickstart",children:"OAO quickstart"}),"\n",(0,r.jsxs)(n.p,{children:["This quickstart is designed to help you build a smart contract on Linea able\nto interact with OAO. ",(0,r.jsx)(n.a,{href:"https://docs.ora.io/doc/oao-onchain-ai-oracle/develop-guide",children:"See more details in our docs"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"workflow",children:"Workflow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The user contract sends the AI request to OAO on Linea by calling the\n",(0,r.jsx)(n.code,{children:"requestCallback"})," function on the OAO contract."]}),"\n",(0,r.jsx)(n.li,{children:"Each AI request will initiate an opML inference."}),"\n",(0,r.jsxs)(n.li,{children:["OAO will emit a ",(0,r.jsx)(n.code,{children:"requestCallback"})," event that will be collected by opML node."]}),"\n",(0,r.jsxs)(n.li,{children:["The opML node will run the AI inference, and then upload the result on Linea,\nwaiting for the challenge period.","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"During the challenge period, the opML validators will check the result,\nand challenge it if the submitted result is incorrect."}),"\n",(0,r.jsx)(n.li,{children:"If the submitted result is successfully challenged by one of the\nvalidators, the submitted result will be updated on Linea."}),"\n",(0,r.jsx)(n.li,{children:"After the challenge period, the submitted result on chain is finalized."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"When the result is uploaded or updated on Linea, the provided AI inference in\nopML will be dispatched to the user's smart contract via its specific callback\nfunction."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,r.jsx)(n.h3,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"To integrate with OAO, you will need to write your own contract."}),"\n",(0,r.jsxs)(n.p,{children:["To build with AI models of OAO, we provided an example of contract using OAO:\n",(0,r.jsx)(n.a,{href:"https://lineascan.build/address/0xC20DeDbE8642b77EfDb4372915947c87b7a526bD",children:"Prompt"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"smart-contract-integration",children:"Smart contract integration"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Inherit ",(0,r.jsx)(n.code,{children:"AIOracleCallbackReceiver"})," in your contract and bind with a specific\nOAO address:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"constructor(IAIOracle _aiOracle) AIOracleCallbackReceiver(_aiOracle) {}\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Write your callback function to handle the AI result from OAO. Note that only\nOAO can call this function:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function aiOracleCallback(uint256 requestId, bytes calldata output, bytes calldata callbackData) external override onlyAIOracleCallback()\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"When you want to initiate an AI inference request, call OAO as follows:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"aiOracle.requestCallback(modelId, input, address(this), gas_limit, callbackData);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,r.jsx)(n.p,{children:"Two models are available on Linea: Stable Diffusion (ID: 50) and Llama3 8B\nInstruct (ID: 11)."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.ora.io/doc/oao-onchain-ai-oracle/reference",children:"Prompt"})," and\n",(0,r.jsx)(n.a,{href:"https://docs.ora.io/doc/oao-onchain-ai-oracle/reference",children:"SimplePrompt"})," are both\nexample smart contracts that interact with OAO."]}),"\n",(0,r.jsx)(n.p,{children:"For simpler application scenarios (eg. prompt engineering-based AI like GPTs),\nyou can directly use Prompt or SimplePrompt."}),"\n",(0,r.jsx)(n.p,{children:"SimplePrompt saves gas by only emitting the event without storing historical\ndata."}),"\n",(0,r.jsx)(n.p,{children:"Linea Mainnet contracts:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["OAO Proxy: ",(0,r.jsx)(n.a,{href:"https://lineascan.build/address/0x0A0f4321214BB6C7811dD8a71cF587bdaF03f0A0",children:"0x0A0f4321214BB6C7811dD8a71cF587bdaF03f0A0"})]}),"\n",(0,r.jsxs)(n.li,{children:["Prompt: ",(0,r.jsx)(n.a,{href:"https://lineascan.build/address/0xC20DeDbE8642b77EfDb4372915947c87b7a526bD",children:"0xC20DeDbE8642b77EfDb4372915947c87b7a526bD"})]}),"\n",(0,r.jsxs)(n.li,{children:["SimplePrompt: ",(0,r.jsx)(n.a,{href:"https://lineascan.build/address/0xC3287BDEF03b925A7C7f54791EDADCD88e632CcD",children:"0xC3287BDEF03b925A7C7f54791EDADCD88e632CcD"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"useful-links",children:"Useful links:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Read ",(0,r.jsx)(n.a,{href:"https://docs.ora.io",children:"ORA documentation"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://discord.gg/ora-io",children:"Join our Discord"})," for help from our team"]}),"\n",(0,r.jsxs)(n.li,{children:["Follow us ",(0,r.jsx)(n.a,{href:"https://x.com/OraProtocol",children:"on X"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var i=t(96540);const r={},a=i.createContext(r);function l(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);