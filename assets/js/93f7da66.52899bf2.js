"use strict";(self.webpackChunkweb3_feedback=self.webpackChunkweb3_feedback||[]).push([[5579],{28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>c});var s=n(96540);const l={},t=s.createContext(l);function o(e){const i=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(t.Provider,{value:i},e.children)}},42637:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"get-started/how-to/run-a-node/volume-creation","title":"Creating a Custom Volume","description":"Blockchain clients can take up a lot of disk space. By defining the amount of disk space you\'re willing to","source":"@site/docs/get-started/how-to/run-a-node/volume-creation.mdx","sourceDirName":"get-started/how-to/run-a-node","slug":"/get-started/how-to/run-a-node/volume-creation","permalink":"/web3-feedback/get-started/how-to/run-a-node/volume-creation","draft":false,"unlisted":false,"editUrl":"https://github.com/Consensys/doc.linea/tree/main/docs/get-started/how-to/run-a-node/volume-creation.mdx","tags":[],"version":"current","lastUpdatedBy":"Joel Willmore","lastUpdatedAt":1746005489000,"frontMatter":{"title":"Creating a Custom Volume","image":"/img/socialCards/creating-a-custom-volume.jpg"}}');var l=n(74848),t=n(28453);const o={title:"Creating a Custom Volume",image:"/img/socialCards/creating-a-custom-volume.jpg"},c=void 0,d={},r=[];function a(e){const i={admonition:"admonition",code:"code",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components},{Details:n}=i;return n||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.admonition,{type:"note",children:(0,l.jsx)(i.p,{children:"Blockchain clients can take up a lot of disk space. By defining the amount of disk space you're willing to\ndedicate to your client (and the block data that it will be syncing), you can ensure that you still have enough room on\nyour disk for whatever else you need."})}),"\n",(0,l.jsx)(i.p,{children:"Select the relevant operating system for the steps on how to create a custom volume."}),"\n",(0,l.jsxs)(n,{children:[(0,l.jsx)("summary",{children:"Ubuntu"}),(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Open Terminal"}),"\n",(0,l.jsxs)(i.li,{children:["Use the ",(0,l.jsx)(i.code,{children:"df -h"})," command to check the available disk space"]}),"\n",(0,l.jsx)(i.li,{children:"Choose a maximum size for the volume. We'll use 100GB for this example."}),"\n",(0,l.jsxs)(i.li,{children:["Use ",(0,l.jsx)(i.code,{children:"fallocate"})," to create a file of the desired size, e.g. ",(0,l.jsx)(i.code,{children:"fallocate -l 100G myfile.img"})]}),"\n",(0,l.jsxs)(i.li,{children:["Use ",(0,l.jsx)(i.code,{children:"mkfs.ext4"})," to format the file as an ext4 filesystem. e.g. ",(0,l.jsx)(i.code,{children:"mkfs.ext4 myfile.img"})]}),"\n",(0,l.jsxs)(i.li,{children:["Mount the file using ",(0,l.jsx)(i.code,{children:"mount"}),", e.g. ",(0,l.jsx)(i.code,{children:"mount -o loop myfile.img /mnt/myvolume"})]}),"\n",(0,l.jsxs)(i.li,{children:["The contents will now be available in ",(0,l.jsx)(i.code,{children:"/mnt/myvolume"}),", up to a maximum of 100GB"]}),"\n"]})]}),"\n",(0,l.jsxs)(n,{children:[(0,l.jsx)("summary",{children:"MacOS"}),(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Open Terminal"}),"\n",(0,l.jsxs)(i.li,{children:["Use the ",(0,l.jsx)(i.code,{children:"df -h"})," command to check the available disk space"]}),"\n",(0,l.jsx)(i.li,{children:"Choose a maximum size for the volume. We'll use 100GB for this example."}),"\n",(0,l.jsxs)(i.li,{children:["Use ",(0,l.jsx)(i.code,{children:"hdiutil"})," to create a sparse image of the desired size, e.g. ",(0,l.jsx)(i.code,{children:"hdiutil create -size 100g -type SPARSE -fs HFS+X myfile.dmg"})]}),"\n",(0,l.jsxs)(i.li,{children:["Mount the image using ",(0,l.jsx)(i.code,{children:"hdiutil"}),", e.g. ",(0,l.jsx)(i.code,{children:"hdiutil attach myfile.dmg"})]}),"\n",(0,l.jsxs)(i.li,{children:["The contents will now be available mounted under ",(0,l.jsx)(i.code,{children:"/Volumes"}),", up to a maximum of 100GB"]}),"\n"]})]}),"\n",(0,l.jsxs)(n,{children:[(0,l.jsx)("summary",{children:"Windows"}),(0,l.jsxs)(n,{children:[(0,l.jsx)("summary",{children:"Without Windows Subsystem Linux"}),(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Open Command Prompt as Administrator"}),"\n",(0,l.jsxs)(i.li,{children:["Use the ",(0,l.jsx)(i.code,{children:"dir"})," command to check available disk space on the volume you want to create the disk image"]}),"\n",(0,l.jsx)(i.li,{children:"Choose a maximum size for the volume. We'll use 100GB for this example."}),"\n",(0,l.jsxs)(i.li,{children:["Use the ",(0,l.jsx)(i.code,{children:"fsutil"})," command to create a sparse file of the desired size, e.g. ",(0,l.jsx)(i.code,{children:"fsutil file createnew myfile.img 107374182400"})," (for a 100GB file)"]}),"\n",(0,l.jsxs)(i.li,{children:["Initialize the disk image using ",(0,l.jsx)(i.code,{children:"diskpart"}),":","\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"diskpart"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:'select vdisk file="myfile.img"'})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"create vdisk maximum=100000"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"attach vdisk"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"exit"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["Format the volume using ",(0,l.jsx)(i.code,{children:"format"}),", e.g. ",(0,l.jsx)(i.code,{children:"format F: /FS:NTFS /A:64K /Q"})]}),"\n",(0,l.jsx)(i.li,{children:"The new volume will now be available as drive letter F:, up to the maximum 100GB size"}),"\n"]}),(0,l.jsx)(i.p,{children:"To mount an existing disk image:"}),(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Open Command Prompt as Administrator"}),"\n",(0,l.jsxs)(i.li,{children:["Use ",(0,l.jsx)(i.code,{children:"diskpart"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:'select vdisk file="myfile.img"'})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"attach vdisk"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i.li,{children:"The disk image will be mounted and accessible under the assigned drive letter"}),"\n"]})]}),(0,l.jsxs)(n,{children:[(0,l.jsx)("summary",{children:"With Windows Subsystem Linux"}),(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Open WSL"}),"\n",(0,l.jsxs)(i.li,{children:["Use the ",(0,l.jsx)(i.code,{children:"df -h"})," command to check the available disk space"]}),"\n",(0,l.jsx)(i.li,{children:"Choose a maximum size for the volume. We'll use 100GB for this example."}),"\n",(0,l.jsxs)(i.li,{children:["Use ",(0,l.jsx)(i.code,{children:"fallocate"})," to create a file of the desired size, e.g. ",(0,l.jsx)(i.code,{children:"fallocate -l 100G myfile.img"})]}),"\n",(0,l.jsxs)(i.li,{children:["Use ",(0,l.jsx)(i.code,{children:"mkfs.ext4"})," to format the file as an ext4 filesystem. e.g. ",(0,l.jsx)(i.code,{children:"mkfs.ext4 myfile.img"})]}),"\n",(0,l.jsxs)(i.li,{children:["Mount the file using ",(0,l.jsx)(i.code,{children:"mount"}),", e.g. ",(0,l.jsx)(i.code,{children:"mount -o loop myfile.img /mnt/myvolume"})]}),"\n",(0,l.jsxs)(i.li,{children:["The contents will now be available in ",(0,l.jsx)(i.code,{children:"/mnt/myvolume"}),", up to a maximum of 100GB"]}),"\n"]})]})]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);